-- ═══════════════════════════════════════════════════════════════
-- ☯ K9 UI LIBRARY - VERSÃO FINAL CORIGIDA
-- Compatível: Mobile + PC
-- ═══════════════════════════════════════════════════════════════

local K9Library = {}
local Utility = {}
local Objects = {}

-- Serviços
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer

-- Configurações
local Config = {
    Font = Font.fromEnum(Enum.Font.Gotham),
    Theme = {
        Background = Color3.fromRGB(20, 20, 25),
        Glass = Color3.fromRGB(30, 30, 40),
        Accent = Color3.fromRGB(100, 150, 255),
        Text = Color3.fromRGB(255, 255, 255),
        Border = Color3.fromRGB(60, 60, 80)
    }
}

-- Utility Functions
function Utility:TweenObject(obj, properties, duration)
    pcall(function()
        local tween = TweenService:Create(obj, TweenInfo.new(duration or 0.2), properties)
        tween:Play()
    end)
end

-- Variáveis Globais
local LibName = "K9_" .. math.random(1000, 9999)
local MainGUI = nil
local CurrentTheme = Config.Theme

-- Toggle UI
function K9Library:ToggleUI()
    pcall(function()
        if MainGUI then
            MainGUI.Enabled = not MainGUI.Enabled
        end
    end)
end
-- Destroy UI
function K9Library:Destroy()
    pcall(function()
        if MainGUI then
            MainGUI:Destroy()
        end
    end)
end

-- Create Library
function K9Library:CreateLib(libName, customTheme)
    if customTheme then
        for k, v in pairs(customTheme) do
            CurrentTheme[k] = v
        end
    end
    
    -- Remove duplicatas
    pcall(function()
        for _, gui in ipairs(CoreGui:GetChildren()) do
            if gui:IsA("ScreenGui") and gui.Name:find("K9_") then
                gui:Destroy()
            end
        end
    end)
    
    -- ScreenGui
    MainGUI = Instance.new("ScreenGui")
    MainGUI.Name = libName or "K9_Library"
    MainGUI.ResetOnSpawn = false
    MainGUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    MainGUI.DisplayOrder = 100
    MainGUI.Parent = CoreGui
    
    -- Main Frame
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Parent = MainGUI
    MainFrame.BackgroundColor3 = CurrentTheme.Background
    MainFrame.BackgroundTransparency = 0.15
    MainFrame.BorderSizePixel = 0
    MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    MainFrame.Size = UDim2.new(0, 500, 0, 350)
    MainFrame.ClipsDescendants = true
    
    local MainCorner = Instance.new("UICorner")
    MainCorner.CornerRadius = UDim.new(0, 10)
    MainCorner.Parent = MainFrame    
    -- Header
    local Header = Instance.new("Frame")
    Header.Name = "Header"
    Header.Parent = MainFrame
    Header.BackgroundColor3 = CurrentTheme.Glass
    Header.BackgroundTransparency = 0.3
    Header.BorderSizePixel = 0
    Header.Size = UDim2.new(1, 0, 0, 40)
    
    local HeaderCorner = Instance.new("UICorner")
    HeaderCorner.CornerRadius = UDim.new(0, 10)
    HeaderCorner.Parent = Header
    
    -- Title
    local TitleLabel = Instance.new("TextLabel")
    TitleLabel.Name = "TitleLabel"
    TitleLabel.Parent = Header
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Position = UDim2.new(0, 12, 0, 0)
    TitleLabel.Size = UDim2.new(0.6, 0, 1, 0)
    TitleLabel.FontFace = Config.Font
    TitleLabel.Text = "☯ " .. (libName or "K9 Library")
    TitleLabel.TextColor3 = CurrentTheme.Text
    TitleLabel.TextSize = 16
    TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    -- Close Button
    local CloseButton = Instance.new("ImageButton")
    CloseButton.Name = "CloseButton"
    CloseButton.Parent = Header
    CloseButton.BackgroundTransparency = 1
    CloseButton.Position = UDim2.new(1, -10, 0.5, 0)
    CloseButton.AnchorPoint = Vector2.new(1, 0.5)
    CloseButton.Size = UDim2.new(0, 24, 0, 24)
    CloseButton.Image = "rbxassetid://3926305904"
    CloseButton.ImageRectOffset = Vector2.new(284, 4)
    CloseButton.ImageRectSize = Vector2.new(24, 24)
    CloseButton.ImageColor3 = CurrentTheme.Text
    
    -- Navigation
    local Navigation = Instance.new("Frame")
    Navigation.Name = "Navigation"
    Navigation.Parent = MainFrame
    Navigation.BackgroundColor3 = CurrentTheme.Glass
    Navigation.BackgroundTransparency = 0.5
    Navigation.BorderSizePixel = 0
    Navigation.Position = UDim2.new(0, 0, 0, 40)
    Navigation.Size = UDim2.new(0, 140, 1, -40)
        local NavCorner = Instance.new("UICorner")
    NavCorner.CornerRadius = UDim.new(0, 0, 0, 10)
    NavCorner.Parent = Navigation
    
    local NavListLayout = Instance.new("UIListLayout")
    NavListLayout.Parent = Navigation
    NavListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    NavListLayout.Padding = UDim.new(0, 4)
    
    local NavPadding = Instance.new("UIPadding")
    NavPadding.Parent = Navigation
    NavPadding.PaddingTop = UDim.new(0, 8)
    NavPadding.PaddingBottom = UDim.new(0, 8)
    NavPadding.PaddingLeft = UDim.new(0, 6)
    NavPadding.PaddingRight = UDim.new(0, 6)
    
    -- Content Container
    local ContentContainer = Instance.new("ScrollingFrame")
    ContentContainer.Name = "ContentContainer"
    ContentContainer.Parent = MainFrame
    ContentContainer.BackgroundTransparency = 1
    ContentContainer.BorderSizePixel = 0
    ContentContainer.Position = UDim2.new(0, 140, 0, 40)
    ContentContainer.Size = UDim2.new(1, -140, 1, -40)
    ContentContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
    ContentContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
    ContentContainer.ScrollBarThickness = 4
    ContentContainer.ScrollBarImageColor3 = CurrentTheme.Accent
    
    local ContentPadding = Instance.new("UIPadding")
    ContentPadding.Parent = ContentContainer
    ContentPadding.PaddingTop = UDim.new(0, 10)
    ContentPadding.PaddingBottom = UDim.new(0, 10)
    ContentPadding.PaddingLeft = UDim.new(0, 10)
    ContentPadding.PaddingRight = UDim.new(0, 10)
    
    local ContentListLayout = Instance.new("UIListLayout")
    ContentListLayout.Parent = ContentContainer
    ContentListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    ContentListLayout.Padding = UDim.new(0, 8)
    
    local TabsFolder = Instance.new("Folder")
    TabsFolder.Parent = ContentContainer
    
    -- Dragging
    local dragging = false
    local dragInput = nil
    local mousePos = nil
    local framePos = nil
        Header.InputBegan:Connect(function(input)
        pcall(function()
            if input.UserInputType == Enum.UserInputType.MouseButton1 or 
               input.UserInputType == Enum.UserInputType.Touch then
                dragging = true
                mousePos = input.Position
                framePos = MainFrame.Position
            end
        end)
    end)
    
    Header.InputChanged:Connect(function(input)
        pcall(function()
            if input.UserInputType == Enum.UserInputType.MouseMovement or 
               input.UserInputType == Enum.UserInputType.Touch then
                dragInput = input
            end
        end)
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        pcall(function()
            if input == dragInput and dragging then
                local delta = input.Position - mousePos
                MainFrame.Position = UDim2.new(
                    framePos.X.Scale, framePos.X.Offset + delta.X,
                    framePos.Y.Scale, framePos.Y.Offset + delta.Y
                )
            end
        end)
    end)
    
    -- Close Event
    CloseButton.MouseButton1Click:Connect(function()
        Utility:TweenObject(MainFrame, {Size = UDim2.new(0, 0, 0, 0)}, 0.3)
        task.wait(0.3)
        MainGUI:Destroy()
    end)
    
    -- Tabs System
    local Tabs = {}
    local firstTab = true
    local tabButtons = {}
    
    function Tabs:NewTab(tabName, tabIcon)
        tabName = tabName or "Tab"
        
        local TabButton = Instance.new("TextButton")
        TabButton.Name = tabName .. "_TabButton"
        TabButton.Parent = Navigation        TabButton.BackgroundTransparency = 1
        TabButton.Size = UDim2.new(1, 0, 0, 36)
        TabButton.FontFace = Config.Font
        TabButton.Text = "  " .. tabName
        TabButton.TextColor3 = CurrentTheme.Text
        TabButton.TextSize = 13
        TabButton.TextXAlignment = Enum.TextXAlignment.Left
        TabButton.AutoButtonColor = false
        
        local ButtonCorner = Instance.new("UICorner")
        ButtonCorner.CornerRadius = UDim.new(0, 6)
        ButtonCorner.Parent = TabButton
        
        local Selector = Instance.new("Frame")
        Selector.Name = "Selector"
        Selector.Parent = TabButton
        Selector.BackgroundColor3 = CurrentTheme.Accent
        Selector.Position = UDim2.new(0, 0, 0.5, 0)
        Selector.AnchorPoint = Vector2.new(0, 0.5)
        Selector.Size = UDim2.new(0, 3, 0, 20)
        Selector.Visible = false
        
        local SelectorCorner = Instance.new("UICorner")
        SelectorCorner.CornerRadius = UDim.new(0, 2)
        SelectorCorner.Parent = Selector
        
        local TabContent = Instance.new("Frame")
        TabContent.Name = tabName .. "_Content"
        TabContent.Parent = TabsFolder
        TabContent.BackgroundTransparency = 1
        TabContent.Size = UDim2.new(1, 0, 0, 0)
        TabContent.Visible = false
        
        local TabContentLayout = Instance.new("UIListLayout")
        TabContentLayout.Parent = TabContent
        TabContentLayout.SortOrder = Enum.SortOrder.LayoutOrder
        TabContentLayout.Padding = UDim.new(0, 6)
        
        if firstTab then
            firstTab = false
            TabContent.Visible = true
            TabButton.BackgroundTransparency = 0.8
            TabButton.TextColor3 = CurrentTheme.Text
            Selector.Visible = true
        end
        
        TabButton.MouseButton1Click:Connect(function()
            for _, content in ipairs(TabsFolder:GetChildren()) do
                if content:IsA("Frame") then
                    content.Visible = false                end
            end
            for _, btn in ipairs(tabButtons) do
                Utility:TweenObject(btn, {BackgroundTransparency = 1}, 0.2)
                Utility:TweenObject(btn, {TextColor3 = CurrentTheme.Text}, 0.2)
                local sel = btn:FindFirstChild("Selector")
                if sel then sel.Visible = false end
            end
            TabContent.Visible = true
            Utility:TweenObject(TabButton, {BackgroundTransparency = 0.8}, 0.2)
            Utility:TweenObject(TabButton, {TextColor3 = CurrentTheme.Text}, 0.2)
            Selector.Visible = true
            task.wait(0.1)
            ContentContainer.CanvasSize = UDim2.new(0, 0, 0, TabContentLayout.AbsoluteContentSize.Y + 20)
        end)
        
        table.insert(tabButtons, TabButton)
        
        -- Sections
        local Sections = {}
        
        function Sections:NewSection(sectionName)
            sectionName = sectionName or "Section"
            
            local SectionFrame = Instance.new("Frame")
            SectionFrame.Name = sectionName .. "_Section"
            SectionFrame.Parent = TabContent
            SectionFrame.BackgroundColor3 = CurrentTheme.Glass
            SectionFrame.BackgroundTransparency = 0.7
            SectionFrame.BorderSizePixel = 0
            SectionFrame.Size = UDim2.new(1, 0, 0, 0)
            SectionFrame.ClipsDescendants = true
            
            local SectionCorner = Instance.new("UICorner")
            SectionCorner.CornerRadius = UDim.new(0, 8)
            SectionCorner.Parent = SectionFrame
            
            local SectionStroke = Instance.new("UIStroke")
            SectionStroke.Parent = SectionFrame
            SectionStroke.Thickness = 1
            SectionStroke.Color = CurrentTheme.Border
            SectionStroke.Transparency = 0.5
            SectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            
            local SectionTitle = Instance.new("TextLabel")
            SectionTitle.Name = "SectionTitle"
            SectionTitle.Parent = SectionFrame
            SectionTitle.BackgroundTransparency = 1
            SectionTitle.Position = UDim2.new(0, 12, 0, 0)
            SectionTitle.Size = UDim2.new(1, -24, 0, 30)            SectionTitle.FontFace = Config.Font
            SectionTitle.Text = "⚡ " .. sectionName
            SectionTitle.TextColor3 = CurrentTheme.Accent
            SectionTitle.TextSize = 13
            SectionTitle.TextXAlignment = Enum.TextXAlignment.Left
            
            local SectionContent = Instance.new("Frame")
            SectionContent.Name = "SectionContent"
            SectionContent.Parent = SectionFrame
            SectionContent.BackgroundTransparency = 1
            SectionContent.Position = UDim2.new(0, 0, 0, 30)
            SectionContent.Size = UDim2.new(1, 0, 1, -30)
            
            local SectionLayout = Instance.new("UIListLayout")
            SectionLayout.Parent = SectionContent
            SectionLayout.SortOrder = Enum.SortOrder.LayoutOrder
            SectionLayout.Padding = UDim.new(0, 4)
            
            local SectionPadding = Instance.new("UIPadding")
            SectionPadding.Parent = SectionContent
            SectionPadding.PaddingTop = UDim.new(0, 8)
            SectionPadding.PaddingBottom = UDim.new(0, 8)
            SectionPadding.PaddingLeft = UDim.new(0, 8)
            SectionPadding.PaddingRight = UDim.new(0, 8)
            
            local function UpdateSectionSize()
                local contentSize = SectionLayout.AbsoluteContentSize.Y + 16
                Utility:TweenObject(SectionFrame, {Size = UDim2.new(1, 0, 0, contentSize + 30)}, 0.2)
                ContentContainer.CanvasSize = UDim2.new(0, 0, 0, TabContentLayout.AbsoluteContentSize.Y + 20)
            end
            
            task.wait(0.1)
            UpdateSectionSize()
            SectionLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(UpdateSectionSize)
            
            -- Elements
            local Elements = {}
            
            -- Button
            function Elements:NewButton(buttonName, callback)
                callback = callback or function() end
                
                local ButtonFrame = Instance.new("TextButton")
                ButtonFrame.Name = buttonName .. "_Button"
                ButtonFrame.Parent = SectionContent
                ButtonFrame.BackgroundColor3 = CurrentTheme.Glass
                ButtonFrame.BackgroundTransparency = 0.6
                ButtonFrame.BorderSizePixel = 0
                ButtonFrame.Size = UDim2.new(1, 0, 0, 36)
                ButtonFrame.AutoButtonColor = false                ButtonFrame.FontFace = Config.Font
                ButtonFrame.Text = ""
                
                local ButtonCorner = Instance.new("UICorner")
                ButtonCorner.CornerRadius = UDim.new(0, 6)
                ButtonCorner.Parent = ButtonFrame
                
                local ButtonStroke = Instance.new("UIStroke")
                ButtonStroke.Parent = ButtonFrame
                ButtonStroke.Thickness = 1
                ButtonStroke.Color = CurrentTheme.Border
                ButtonStroke.Transparency = 0.5
                ButtonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                
                local ButtonTitle = Instance.new("TextLabel")
                ButtonTitle.Name = "ButtonTitle"
                ButtonTitle.Parent = ButtonFrame
                ButtonTitle.BackgroundTransparency = 1
                ButtonTitle.Position = UDim2.new(0, 12, 0, 0)
                ButtonTitle.Size = UDim2.new(1, -24, 1, 0)
                ButtonTitle.FontFace = Config.Font
                ButtonTitle.Text = buttonName
                ButtonTitle.TextColor3 = CurrentTheme.Text
                ButtonTitle.TextSize = 13
                ButtonTitle.TextXAlignment = Enum.TextXAlignment.Left
                
                ButtonFrame.MouseButton1Click:Connect(function()
                    pcall(callback)
                end)
                
                UpdateSectionSize()
                
                return {}
            end
            
            -- Toggle
            function Elements:NewToggle(toggleName, default, callback)
                default = default or false
                callback = callback or function(state) end
                local toggled = default
                
                local ToggleFrame = Instance.new("TextButton")
                ToggleFrame.Name = toggleName .. "_Toggle"
                ToggleFrame.Parent = SectionContent
                ToggleFrame.BackgroundColor3 = CurrentTheme.Glass
                ToggleFrame.BackgroundTransparency = 0.6
                ToggleFrame.BorderSizePixel = 0
                ToggleFrame.Size = UDim2.new(1, 0, 0, 36)
                ToggleFrame.AutoButtonColor = false
                ToggleFrame.FontFace = Config.Font                ToggleFrame.Text = ""
                
                local ToggleCorner = Instance.new("UICorner")
                ToggleCorner.CornerRadius = UDim.new(0, 6)
                ToggleCorner.Parent = ToggleFrame
                
                local ToggleStroke = Instance.new("UIStroke")
                ToggleStroke.Parent = ToggleFrame
                ToggleStroke.Thickness = 1
                ToggleStroke.Color = CurrentTheme.Border
                ToggleStroke.Transparency = 0.5
                ToggleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                
                local ToggleTitle = Instance.new("TextLabel")
                ToggleTitle.Name = "ToggleTitle"
                ToggleTitle.Parent = ToggleFrame
                ToggleTitle.BackgroundTransparency = 1
                ToggleTitle.Position = UDim2.new(0, 12, 0, 0)
                ToggleTitle.Size = UDim2.new(1, -60, 1, 0)
                ToggleTitle.FontFace = Config.Font
                ToggleTitle.Text = toggleName
                ToggleTitle.TextColor3 = CurrentTheme.Text
                ToggleTitle.TextSize = 13
                ToggleTitle.TextXAlignment = Enum.TextXAlignment.Left
                
                local ToggleIndicator = Instance.new("Frame")
                ToggleIndicator.Name = "ToggleIndicator"
                ToggleIndicator.Parent = ToggleFrame
                ToggleIndicator.BackgroundColor3 = CurrentTheme.Border
                ToggleIndicator.Position = UDim2.new(1, -10, 0.5, 0)
                ToggleIndicator.AnchorPoint = Vector2.new(1, 0.5)
                ToggleIndicator.Size = UDim2.new(0, 36, 0, 18)
                
                local IndicatorCorner = Instance.new("UICorner")
                IndicatorCorner.CornerRadius = UDim.new(1, 0)
                IndicatorCorner.Parent = ToggleIndicator
                
                local IndicatorCircle = Instance.new("Frame")
                IndicatorCircle.Name = "IndicatorCircle"
                IndicatorCircle.Parent = ToggleIndicator
                IndicatorCircle.BackgroundColor3 = CurrentTheme.Text
                IndicatorCircle.Position = UDim2.new(0, 2, 0.5, 0)
                IndicatorCircle.AnchorPoint = Vector2.new(0, 0.5)
                IndicatorCircle.Size = UDim2.new(0, 14, 0, 14)
                
                local CircleCorner = Instance.new("UICorner")
                CircleCorner.CornerRadius = UDim.new(1, 0)
                CircleCorner.Parent = IndicatorCircle
                
                local function UpdateToggleState()                    if toggled then
                        Utility:TweenObject(ToggleIndicator, {BackgroundColor3 = CurrentTheme.Accent}, 0.2)
                        Utility:TweenObject(IndicatorCircle, {Position = UDim2.new(1, -16, 0.5, 0)}, 0.2)
                    else
                        Utility:TweenObject(ToggleIndicator, {BackgroundColor3 = CurrentTheme.Border}, 0.2)
                        Utility:TweenObject(IndicatorCircle, {Position = UDim2.new(0, 2, 0.5, 0)}, 0.2)
                    end
                end
                
                UpdateToggleState()
                
                ToggleFrame.MouseButton1Click:Connect(function()
                    toggled = not toggled
                    UpdateToggleState()
                    pcall(function() callback(toggled) end)
                end)
                
                UpdateSectionSize()
                
                local ToggleFunctions = {}
                function ToggleFunctions:SetState(newState)
                    toggled = newState
                    UpdateToggleState()
                    pcall(function() callback(toggled) end)
                end
                function ToggleFunctions:GetState()
                    return toggled
                end
                
                return ToggleFunctions
            end
            
            -- Slider
            function Elements:NewSlider(sliderName, minValue, maxValue, defaultValue, callback)
                minValue = minValue or 0
                maxValue = maxValue or 100
                defaultValue = defaultValue or minValue
                callback = callback or function(value) end
                local currentValue = defaultValue
                
                local SliderFrame = Instance.new("Frame")
                SliderFrame.Name = sliderName .. "_Slider"
                SliderFrame.Parent = SectionContent
                SliderFrame.BackgroundColor3 = CurrentTheme.Glass
                SliderFrame.BackgroundTransparency = 0.6
                SliderFrame.BorderSizePixel = 0
                SliderFrame.Size = UDim2.new(1, 0, 0, 50)
                
                local SliderCorner = Instance.new("UICorner")
                SliderCorner.CornerRadius = UDim.new(0, 6)                SliderCorner.Parent = SliderFrame
                
                local SliderTitle = Instance.new("TextLabel")
                SliderTitle.Name = "SliderTitle"
                SliderTitle.Parent = SliderFrame
                SliderTitle.BackgroundTransparency = 1
                SliderTitle.Position = UDim2.new(0, 10, 0, 4)
                SliderTitle.Size = UDim2.new(1, -60, 0, 16)
                SliderTitle.FontFace = Config.Font
                SliderTitle.Text = sliderName
                SliderTitle.TextColor3 = CurrentTheme.Text
                SliderTitle.TextSize = 12
                SliderTitle.TextXAlignment = Enum.TextXAlignment.Left
                
                local SliderValue = Instance.new("TextLabel")
                SliderValue.Name = "SliderValue"
                SliderValue.Parent = SliderFrame
                SliderValue.BackgroundTransparency = 1
                SliderValue.Position = UDim2.new(1, -10, 0, 4)
                SliderValue.AnchorPoint = Vector2.new(1, 0)
                SliderValue.Size = UDim2.new(0, 50, 0, 16)
                SliderValue.FontFace = Config.Font
                SliderValue.Text = tostring(currentValue)
                SliderValue.TextColor3 = CurrentTheme.Accent
                SliderValue.TextSize = 12
                SliderValue.TextXAlignment = Enum.TextXAlignment.Right
                
                local SliderBar = Instance.new("Frame")
                SliderBar.Name = "SliderBar"
                SliderBar.Parent = SliderFrame
                SliderBar.BackgroundColor3 = CurrentTheme.Border
                SliderBar.Position = UDim2.new(0, 10, 0, 26)
                SliderBar.Size = UDim2.new(1, -20, 0, 6)
                
                local BarCorner = Instance.new("UICorner")
                BarCorner.CornerRadius = UDim.new(1, 0)
                BarCorner.Parent = SliderBar
                
                local SliderProgress = Instance.new("Frame")
                SliderProgress.Name = "SliderProgress"
                SliderProgress.Parent = SliderBar
                SliderProgress.BackgroundColor3 = CurrentTheme.Accent
                SliderProgress.Size = UDim2.new(0, 0, 1, 0)
                
                local ProgressCorner = Instance.new("UICorner")
                ProgressCorner.CornerRadius = UDim.new(1, 0)
                ProgressCorner.Parent = SliderProgress
                
                local function UpdateSliderValue(value)
                    currentValue = math.clamp(value, minValue, maxValue)                    SliderValue.Text = tostring(math.floor(currentValue))
                    local percentage = (currentValue - minValue) / (maxValue - minValue)
                    Utility:TweenObject(SliderProgress, {Size = UDim2.new(percentage, 0, 1, 0)}, 0.1)
                    pcall(function() callback(currentValue) end)
                end
                
                UpdateSliderValue(defaultValue)
                
                UpdateSectionSize()
                
                local SliderFunctions = {}
                function SliderFunctions:SetValue(value)
                    UpdateSliderValue(value)
                end
                function SliderFunctions:GetValue()
                    return currentValue
                end
                
                return SliderFunctions
            end
            
            return Elements
        end
        
        return Sections
    end
    
    return Tabs
end

-- Notify Function
function K9Library:Notify(title, message, duration)
    duration = duration or 3
    
    pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "☯ K9 Menu | " .. title,
            Text = message,
            Duration = duration
        })
    end)
end

-- Version
K9Library.Version = "1.0.0"

print("[K9 UI] Library Loaded - Version: " .. K9Library.Version)

return K9Library
